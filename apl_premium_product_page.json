{
  "type": "APL",
  "version": "2023.3",
  "mainTemplate": {
    "parameters": ["payload"],
    "items": [
      {
        "type": "Container",
        "width": "100vw",
        "height": "100vh",
        "background": {
          "type": "LinearGradient",
          "colorRange": ["#f5f7fa", "#e8eaf0", "#dfe2e8"],
          "inputRange": [0, 0.5, 1],
          "angle": 135
        },
        "items": [
          {
            "when": "${payload.viewMode == 'product_list'}",
            "type": "Container",
            "width": "100%",
            "height": "100%",
            "direction": "column",
            "items": [
              {
                "type": "Container",
                "width": "100%",
                "height": 100,
                "background": "linear-gradient(135deg, #667eea 0%, #764ba2 100%)",
                "boxShadow": "0 4px 20px rgba(0,0,0,0.15)",
                "padding": 30,
                "direction": "row",
                "alignItems": "center",
                "justifyContent": "spaceBetween",
                "items": [
                  {
                    "type": "Container",
                    "direction": "row",
                    "alignItems": "center",
                    "items": [
                      {
                        "type": "Container",
                        "width": 50,
                        "height": 50,
                        "borderRadius": 25,
                        "background": "rgba(255,255,255,0.3)",
                        "items": [
                          {
                            "type": "Text",
                            "text": "üõçÔ∏è",
                            "fontSize": 24,
                            "textAlign": "center",
                            "textAlignVertical": "center"
                          }
                        ]
                      },
                      {
                        "type": "Container",
                        "paddingLeft": 15,
                        "items": [
                          {
                            "type": "Text",
                            "text": "AI Pro Shop",
                            "fontSize": 28,
                            "fontWeight": "bold",
                            "color": "#ffffff"
                          },
                          {
                            "type": "Text",
                            "text": "${payload.searchQuery}",
                            "fontSize": 14,
                            "color": "rgba(255,255,255,0.9)",
                            "marginTop": 3
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "Container",
                    "direction": "row",
                    "alignItems": "center",
                    "background": "rgba(255,255,255,0.25)",
                    "borderRadius": 20,
                    "padding": 12,
                    "items": [
                      {
                        "type": "Text",
                        "text": "üõí",
                        "fontSize": 20,
                        "marginRight": 8
                      },
                      {
                        "type": "Text",
                        "text": "${payload.cartCount}",
                        "fontSize": 18,
                        "fontWeight": "bold",
                        "color": "#ffffff"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "Sequence",
                "width": "100%",
                "grow": 1,
                "scrollDirection": "vertical",
                "paddingLeft": 30,
                "paddingRight": 30,
                "paddingTop": 20,
                "paddingBottom": 20,
                "data": "${payload.products}",
                "numbered": true,
                "items": [
                  {
                    "type": "Container",
                    "width": "100%",
                    "height": 180,
                    "background": "#ffffff",
                    "borderRadius": 20,
                    "marginBottom": 15,
                    "boxShadow": "0 8px 30px rgba(0,0,0,0.12)",
                    "direction": "row",
                    "alignItems": "center",
                    "padding": 20,
                    "items": [
                      {
                        "type": "Container",
                        "width": 140,
                        "height": 140,
                        "items": [
                          {
                            "type": "Image",
                            "source": "${data.image_url}",
                            "width": "100%",
                            "height": "100%",
                            "scale": "best-fit",
                            "borderRadius": 15,
                            "boxShadow": "0 4px 15px rgba(0,0,0,0.1)"
                          },
                          {
                            "when": "${data.badge}",
                            "type": "Container",
                            "position": "absolute",
                            "top": -5,
                            "left": -5,
                            "background": "linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",
                            "borderRadius": 8,
                            "padding": 5,
                            "paddingLeft": 8,
                            "paddingRight": 8,
                            "boxShadow": "0 2px 10px rgba(0,0,0,0.2)",
                            "items": [
                              {
                                "type": "Text",
                                "text": "${data.badge}",
                                "fontSize": 10,
                                "fontWeight": "bold",
                                "color": "#ffffff"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "Container",
                        "paddingLeft": 20,
                        "grow": 1,
                        "direction": "column",
                        "justifyContent": "spaceBetween",
                        "items": [
                          {
                            "type": "Text",
                            "text": "${data.name}",
                            "fontSize": 18,
                            "fontWeight": "600",
                            "color": "#2d3748",
                            "maxLines": 2,
                            "lineHeight": 1.3
                          },
                          {
                            "type": "Text",
                            "text": "${data.description}",
                            "fontSize": 13,
                            "color": "#718096",
                            "maxLines": 2,
                            "marginTop": 5
                          },
                          {
                            "type": "Container",
                            "direction": "row",
                            "alignItems": "baseline",
                            "marginTop": 10,
                            "items": [
                              {
                                "type": "Text",
                                "text": "$${data.price}",
                                "fontSize": 32,
                                "fontWeight": "bold",
                                "color": "#48bb78"
                              },
                              {
                                "type": "Container",
                                "paddingLeft": 15,
                                "direction": "row",
                                "alignItems": "center",
                                "items": [
                                  {
                                    "type": "Text",
                                    "text": "‚≠ê",
                                    "fontSize": 14
                                  },
                                  {
                                    "type": "Text",
                                    "text": "${data.rating}",
                                    "fontSize": 14,
                                    "fontWeight": "600",
                                    "color": "#f6ad55",
                                    "marginLeft": 5
                                  },
                                  {
                                    "type": "Text",
                                    "text": "(${data.reviews})",
                                    "fontSize": 12,
                                    "color": "#a0aec0",
                                    "marginLeft": 5
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "Container",
                        "width": 140,
                        "alignItems": "center",
                        "justifyContent": "center",
                        "items": [
                          {
                            "type": "Container",
                            "width": 120,
                            "background": "linear-gradient(135deg, #667eea 0%, #764ba2 100%)",
                            "borderRadius": 15,
                            "padding": 15,
                            "boxShadow": "0 6px 20px rgba(102,126,234,0.4)",
                            "items": [
                              {
                                "type": "Text",
                                "text": "üõí Item ${index+1}",
                                "fontSize": 14,
                                "fontWeight": "bold",
                                "color": "#ffffff",
                                "textAlign": "center"
                              }
                            ]
                          },
                          {
                            "type": "Text",
                            "text": "Say: Add item ${index+1}",
                            "fontSize": 11,
                            "color": "#718096",
                            "textAlign": "center",
                            "marginTop": 8
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "Container",
                "width": "100%",
                "height": 60,
                "background": "#ffffff",
                "borderTop": "1px solid #e2e8f0",
                "padding": 15,
                "paddingLeft": 30,
                "paddingRight": 30,
                "direction": "row",
                "alignItems": "center",
                "justifyContent": "spaceBetween",
                "items": [
                  {
                    "type": "Text",
                    "text": "üîí Secure Shopping ‚Ä¢ ${payload.totalProducts} Products",
                    "fontSize": 12,
                    "color": "#718096"
                  },
                  {
                    "type": "Text",
                    "text": "Powered by aipro-skill.com",
                    "fontSize": 12,
                    "color": "#a0aec0",
                    "fontStyle": "italic"
                  }
                ]
              }
            ]
          }
        ]
      }
    ]
  }
}

